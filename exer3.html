<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Gamedev Canvas Workshop</title>
    <style>
    	* { padding: 0; margin: 0; }
    	canvas { background: #eee; display: block; margin: 0 auto; }
    </style>
</head>
<body>

<canvas id="myCanvas" width="480" height="320"></canvas>

<script>
var canvas = document.getElementById("myCanvas");
var ctx = canvas.getContext("2d");
var rectWidth = 10;
var rectHeight = 15;
var x = canvas.width/2 - 50;
var y = canvas.height-30;
var dx = 0;
var dy = -1;
var rightPressed = false;
var leftPressed = false;
var paddleHeight = 10;
var paddleWidth = 75;
var brickSpeed = 0.5;
var paddleCount = 6;
var paddleX =  getRandomArbitrary(0,canvas.width - paddleWidth);
var paddleY = (canvas.height-paddleHeight) / 2;	

var up = true;
var down = false;

var jumpHeight = -1000;
var paddleSpeed = 1;

var paddles = [];
for(var c=0; c<paddleCount; c++) {
    paddles[c] = { x: 0, y: 0, status: 0, jumpStatus: false};}

function drawRect() {
    ctx.beginPath();
    ctx.rect(x, y, rectWidth, rectHeight);
    ctx.fillStyle = "#0095DD";
    ctx.fill();
    ctx.closePath();
}

function getRandomArbitrary(min, max) {
  return Math.random() * (max - min) + min;
}

function drawPaddleName(pointX,pointY,number) {
    ctx.font = "16px Arial";
    ctx.fillStyle = "#009555";
    ctx.fillText("Number"+number,pointX , pointY);
}
function drawStatus(pointX,pointY,text) {
    ctx.font = "16px Arial";
    ctx.fillStyle = "#FFFFFF";
    ctx.fillText(text,pointX , pointY);
}

function drawPaddle(x,y,width,height) {
    ctx.beginPath();
    ctx.rect(x, y, width, height);
    ctx.fillStyle = "#0095DD";
    ctx.fill();
    ctx.closePath();
}

function movePaddle(){
    for (var c = 0;c < paddleCount; c++){
        var p = paddles[c];
        if(p.status == 0){
            p.status = 1;
            if(c < 3){
                paddleX =  c * paddleWidth;
                paddleY =  20;//c * 20;//getRandomArbitrary(0,10);
            }
            else {
                paddleX = (c-3) * paddleWidth; 
                paddleY =  130;//getRandomArbitrary(10,100);
            }
            p.x = paddleX;
            p.y = paddleY;
            drawPaddle(paddleX,paddleY,paddleWidth,paddleHeight);
            drawPaddleName(paddleX,paddleY,c);
            drawStatus(paddleX + paddleWidth / 2,paddleY+paddleHeight,p.status );
        }
        else{
            paddleX =  p.x;
	        //p.y += 0.1;
            paddleY =  p.y ;
            drawPaddle(paddleX,paddleY,paddleWidth,paddleHeight);
            drawPaddleName(paddleX,paddleY,c);
            drawStatus(paddleX + paddleWidth / 2,paddleY+paddleHeight,p.status );
        }
    }

}
function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    drawRect();
    movePaddle();

    if (y + dy <= jumpHeight /*|| y + dy < -20  */) { //top point
        dy = -dy ;  // the fall
        paddleSpeed = 1;
    }   
    if (y + dy > canvas.height - rectHeight && down != false) {  //bottom point
	dy = -1;
    }  
     
    
    y += dy * 2;
    //moveDetection();
    if(rightPressed) {
    x += 5;
    if (x + paddleWidth > canvas.width){
        x = canvas.width - paddleWidth;
    }
}
else if(leftPressed) {
    x -= 5;
    if (x < 0){
        x = 0;
    }
}
}

document.addEventListener("keydown", keyDownHandler, false);
document.addEventListener("keyup", keyUpHandler, false);

function keyDownHandler(e) {
    if(e.key == "Right" || e.key == "ArrowRight") {
        rightPressed = true;
    }
    else if(e.key == "Left" || e.key == "ArrowLeft") {
        leftPressed = true;
    }
}

function keyUpHandler(e) {
    if(e.key == "Right" || e.key == "ArrowRight") {
        rightPressed = false;
    }
    else if(e.key == "Left" || e.key == "ArrowLeft") {
        leftPressed = false;
    }
}

setInterval(draw, 10);

</script>

</body>
</html>